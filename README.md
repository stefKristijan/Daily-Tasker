# Daily-Tasker

Aplikacija DailyTasker je aplikacija za podsjeæanje korisnika na zadatke koje treba obaviti. Zadatke korisnik unosi sam, nakon èega se spremaju u bazu podataka. Na glavnoj aktivnosti se u RecyclerViewu pokazuju zadaci iz baze. Za uspješan rad aplikacije bilo je potrebno kreirati nekoliko klasa. Za upravljanje bazom podataka koristi se klasa TaskDBHelper, za upravljnje RecyclerView-om koristi se klasa TaskAdapter. 

Klasa TaskDBHelper je definirana na slièan naèin kao i klasa BookDBHleper s laboratorijske vježbe  3. Razlika je u atributima tablice te u metodu deletTask() koja kao parametar prima objekt klase Task te metodom delete(<ime tablice>,<where uvjet>, <where argumenti>) briše taj objekt iz baze.

Za upravljanje RecyclerView-om koristi se klasa TaskAdapter koja nasljeðuje klasu RecyclerView.Adapter<ViewHolder>, a klasa ViewHolder treba biti inner klasa klase TaskAdapter. U klasi ViewHolder definiraju se i instanciraju elementi korisnièkog suèelja, tj. elementi koji se nalaze u jednom retku RecyclerView-a. Za „skloranje“ TextView-a koji sadrži opis zadatka potrebno je u klasu ViewHolder definirati metodu na ScrollView setOnTouchListener() u kojoj se metodom requestDisallowInterceptTouchEvent(true) postiže da se prihvati dodir na ScrollView tj. da se ignorira dodir na RecyclerView kako bi se moglo upravljati ScrollView-om. Zbog toga je u MainActivity-u potrebno i pozvati tu metodu za RecyclerView, ali joj se predaje false (Izvor: http://stackoverflow.com/questions/38741787/scroll-textview-inside-recyclerview). Za definiranje klase TaskAdapter potrebno je preopteretiti metode onCreateViewHolder(), onBindViewHolder() te getItemCount(). U metodi onCreateViewHolder() se u RecyclerView napuhuje objekt klase View koji predstavlja redak RecyclerView-a i predaje se kao patametar konstruktora klase ViewHolder. U metodi onBindViewHolder() se na temelju objekta holder klase ViewHolder i pozicije u RecyclerView-u postavljaju atributi objekata korisnièkog suèelja. Za postavljanje pozadinske slike retka te za brisanje elementa iz baze bilo je potrebno koristiti Context aplikacije kojem se ne može pristupiti iz klase TaskAdapter pa je prilikom pozivanja konstruktora potrebno i predati objekt klase Context koji se sprema kao atribut klase TaskAdapter. U metodi onBindViewHolder() takoðer se i definira „listener“ na dugi klik elementa (setOnLongClickListener()) u kojem se briše kliknuti zadatak iz baze i iz liste. 

U aktivnosti MainActivity se instancira FloatingActionButton te se na njegov klik pokreæe nova aktivnost NewTaskActivity u kojoj korisnik definira novi zadatak. Prilikom kreiranja RecyclerView-a potrebno je stvoriti objekte klasa TaskAdapter, LinearLayoutManager i DividerItemDecoration kojima se definira rad RecyclerView-a. U MainActivity-u se još nalazi metoda loadTasks() koja vraæa listu zadataka koja se nalazi u bazi i ona se poziva na kreiranju aktivnosti(onCreate()) i na povratku u aktivnost (onResume()). 

U aktivnosti NewTaskActivity se dodaje novi zadatak u bazu. Na korisnièkom suèelju je potrebno unijeti naslov zadatka, opis (opcionalno), kategoriju i prioritet. Za definiranje kategorije korišten je Spinner, ako veæ postoji jedna ili više kategorija u bazi, a pritiskom na dugme NEW pojavljuje se EditView u koji korisnik može unijeti ime nove kategorije. Ako kategorije veæ postoje onda se poziva metoda getCategories() klase TaskDBHelper koja vraæa listu svih kategorija koja se sprema u Spinner. Klikom na dugme ADD TASK dodaje se novi zadatak u bazu i prelazi se na MainActivity gdje se poziva metoda onResume() i uèitavaju zadaci u RecyclerView iz baze.

